{
  "signupInitFields": [
    {
      "value": "Sign Up",
      "baseProperties": {
        "name": "signup",
        "id": "signup",
        "type": "staticText",
        "formName": "signupForm"
      },
      "expressionProperties": {
        "visible": "",
        "visibleValue": true
      },
      "layoutProperties": {
        "css": {
          "configuration": [{
            "selectorName": ".element-child",
            "xs": {
              "font-size": "30px"
            }
          },
          {
            "selectorName": ".element-child .dynamic-style-child",
            "xs": {
              "text-align": "center",
              "color": "white"
            }
          }],
          "customClassName": "element-child"
        }
      }
    },
    {
      "baseProperties": {
        "name": "emailId",
        "id": "emailId",
        "type": "email",
        "formName": "signupForm"
      },
      "layoutProperties": {
        "selectorName": ".email__field",
        "css": {
          "md": {
            "border": "1px solid red"
          },
          "customClassName": "email__field"
        }
      },
      "placeholder": "Enter Your Email",
      "accessor": "obj.email",
      "expressionProperties": {
        "requiredValue": true,
        "required": "",
        "readOnly": "",
        "readOnlyValue": false,
        "disabled": "",
        "disabledValue": false,
        "visible": "",
        "visibleValue": true
      },
      "events": [
        {
          "event": "",
          "actions": [
            {
              "actionType": "setfield",
              "field": "$password$",
              "fieldValue": "$userName$"
            },
            {
              "actionType": "setfield",
              "field": "$password$",
              "fieldValue": "$userName$"
            }
          ],
          "debounce": 3000
        }
      ]
    },
    {
      "baseProperties": {
        "name": "otp",
        "id": "otp",
        "formName": "signupForm",
        "type": "number"
      },
      "placeholder": "Enter OTP",
      "accessor": "obj.otp",
      "expressionProperties": {
        "requiredValue": false,
        "required": "",
        "readOnly": "",
        "readOnlyValue": false,
        "disabled": "",
        "disabledValue": false,
        "visible": "otpVerified != 'true'",
        "visibleValue": true
      },
      "hideSpinner": true
    },
    {
      "baseProperties": {
        "name": "generateOtp",
        "id": "generateOtp",
        "type": "button",
        "formName": "signupForm",
        "label": "Generate OTP"
      },
      "accessor": "obj.generateOtp",
      "layoutProperties": {
        "css": {
          "themeClass": "btn-warning",
          "configuration": {
            "selectorName": ".signup__generate-otp",
            "xs": {
              "justify-content": "center"
            }
          },
          "customClassName": "signup__generate-otp"
        }
      },
      "expressionProperties": {
        "requiredValue": true,
        "required": "",
        "readOnly": "",
        "readOnlyValue": false,
        "disabled": "",
        "disabledValue": false,
        "visible": "otpVerified != 'true'",
        "visibleValue": true
      },
      "apiConfig": {
        "name": "generateOTPApi",
        "url": "/rest/signupOtp",
        "method": "POST",
        "payloadParams": [
          {
            "paramName": "mailId",
            "mappedField": "emailId"
          }
        ],
        "onSuccess": {
          "showSuccessMessage": true,
          "sharedData": [
            {
                "varName": "showVerifyOTP",
                "staticData": "true"
            }
          ]
        },
        "onError": {
          "showErrorMessage": true
        }
      },
      "events": [
        {
          "event": "click",
          "actions": [
            {
              "actionType": "submit",
              "showLoading": true
            }
          ],
          "debounce": 3000
        }
      ]
    },
    {
      "baseProperties": {
        "name": "verifyOtp",
        "id": "verifyOtp",
        "type": "button",
        "formName": "signupForm",
        "label": "Verify OTP"
      },
      "layoutProperties": {
        "css": {
          "themeClass": "btn-warning",
          "configuration": {
            "selectorName": ".signup__generate-otp",
            "xs": {
              "justify-content": "center"
            }
          },
          "customClassName": "signup__generate-otp"
        }
      },
      "expressionProperties": {
        "requiredValue": true,
        "required": "",
        "readOnly": "",
        "readOnlyValue": false,
        "disabled": "",
        "disabledValue": false,
        "visible": "showVerifyOTP == 'true' and otpVerified != 'true'",
        "visibleValue": true
      },
      "apiConfig": {
        "name": "verifyOTPApi",
        "url": "/rest/verifyOtp",
        "method": "POST",
        "payloadParams": [
          {
            "paramName": "mailId",
            "mappedField": "emailId"
          },
          {
            "paramName": "otp",
            "mappedField": "otp"
          }
        ],
        "onSuccess": {
          "showSuccessMessage": true,
          "sharedData": [
            {
                "varName": "otpVerified",
                "staticData": "true"
            }
          ]
        },
        "onError": {
          "showErrorMessage": true
        }
      },
      "events": [
        {
          "event": "click",
          "actions": [
            {
              "actionType": "submit",
              "showLoading": true
            }
          ],
          "debounce": 3000
        }
      ]
    }
  ],
  "validOtp": [
    {
      "baseProperties": {
        "name": "fname",
        "id": "fname",
        "formName": "signupForm",
        "type": "text"
      },
      "placeholder": "Enter first name",
      "accessor": "obj.fname",
      "expressionProperties": {
        "requiredValue": true,
        "required": "",
        "readOnly": "",
        "readOnlyValue": false,
        "disabled": "",
        "disabledValue": false,
        "visible": "otpVerified == 'true'",
        "visibleValue": true
      }
    },
    {
      "baseProperties": {
        "name": "lname",
        "id": "lname",
        "formName": "signupForm",
        "type": "text"
      },
      "placeholder": "Enter last name",
      "accessor": "obj.lname",
      "expressionProperties": {
        "requiredValue": false,
        "required": "",
        "readOnly": "",
        "readOnlyValue": false,
        "disabled": "",
        "disabledValue": false,
        "visible": "otpVerified == 'true'",
        "visibleValue": true
      }
    },
    {
      "baseProperties": {
        "name": "password",
        "id": "password",
        "formName": "signupForm",
        "type": "password"
      },
      "placeholder": "Enter password",
      "accessor": "obj.pass",
      "expressionProperties": {
        "requiredValue": true,
        "required": "",
        "readOnly": "",
        "readOnlyValue": false,
        "disabled": "",
        "disabledValue": false,
        "visible": "otpVerified == 'true'",
        "visibleValue": true
      }
    },
    {
      "baseProperties": {
        "name": "confirmPassword",
        "id": "confirmPassword",
        "formName": "signupForm",
        "type": "password"
      },
      "placeholder": "Enter confirm password",
      "accessor": "obj.cnfpass",
      "expressionProperties": {
        "requiredValue": true,
        "required": "",
        "readOnly": "",
        "readOnlyValue": false,
        "disabled": "",
        "disabledValue": false,
        "visible": "otpVerified == 'true'",
        "visibleValue": true
      }
    },    
    {
      "baseProperties": {
        "name": "termsAndCond",
        "id": "termsAndCond",
        "label": "User Type",
        "formName": "signupForm",
        "type": "radio"
      },
      "expressionProperties": {
        "requiredValue": true,
        "required": "",
        "readOnly": "",
        "readOnlyValue": false,
        "disabled": "",
        "disabledValue": false,
        "visible": "otpVerified == 'true'",
        "visibleValue": true
      },
      "accessor": "",
      "layoutProperties": {
        "orientation": "horizontal",
        "css": {
          "configuration": {
            "selectorName": ".signup__tnc .custom-control-label",
            "xs": {
              "margin-top": "10px",
              "color": "white"
            }
          },
          "customClassName": "signup__tnc"
        }
      },
      "optionList": [
        {
          "label": "I agree to the terms and conditions",
          "value": true,
          "name": "accept"
        }
      ]
    },
    {
      "baseProperties": {
        "name": "button",
        "id": "button",
        "formName": "signupForm",
        "type": "submit",
        "label": "Sign up"
      },
      "expressionProperties": {
        "requiredValue": false,
        "required": "",
        "readOnly": "",
        "readOnlyValue": false,
        "disabled": "password != confirmPassword",
        "disabledValue": false,
        "visible": "otpVerified == 'true'",
        "visibleValue": true
      },
      "layoutProperties": {
        "css": {
          "themeClass": "btn-warning",
          "configuration": {
            "selectorName": ".signup__btn",
            "xs": {
              "justify-content": "center"
            }
          },
          "customClassName": "signup__btn"
        }
      },
      "apiConfig": {
        "name": "signupApi",
        "url": "/rest/signup",
        "method": "POST",
        "payloadParams": [
          {
            "paramName": "email",
            "mappedField": "emailId"
          },
          {
            "paramName": "firstName",
            "mappedField": "fname"
          },
          {
            "paramName": "lastName",
            "mappedField": "lname"
          },
          {
            "paramName": "password",
            "mappedField": "password"
          },
          {
            "paramName": "acceptedTerms",
            "mappedField": "termsAndCond",
            "mappedValue": "value"
          }
        ],
        "onSuccess": {
          "pageUrl": "/dashboard",
          "sharedData": [
            {
                "varName": "name",
                "responseAccessor": "results.user.name",
                "cache": true
            }, {
                "varName": "authenticated",
                "staticData": "yes",
                "cache": true
            }
          ],
          "clearSharedData": ["name", "authenticated", "otpVerified", "showVerifyOtp"]
        },
        "onError": {
          "showErrorMessage": true
        }
      },
      "events": [
        {
          "event": "click",
          "actions": [
            {
              "actionType": "submit",
              "showLoading": true
            }
          ],
          "debounce": 3000
        }
      ]
    }
  ]
}
